<!doctype html>
<html lang="en">
<style>
 #searchtext{
    padding-right: 150px;
    padding-top: 5px;
    margin-left: 150px;
 }
 #p1{
    font-family:cursive;
    padding-top: 10px;
    font-size: 45px;
  padding-left: 250px;
  color:white;
  padding-top: 300px;
 }
 #p2{
    font-family:'Times New Roman', Times, serif;
    font-size: 22px;
    padding-left: 150px;
    color:gold;
    
 }
 #contaner1{
padding-left: 50px;
padding-top: 230px;
 }
 #bg{
   background-color:whitesmoke;
    background-size: cover;
    background-repeat: no-repeat;
    
 }
 #carouselExampleAutoplaying{

    margin: 1px 1px 0px 1px;
 }
 .card-title{
  font-family: 'Times New Roman', Times, serif;

 }
 #c1{
  background-color:whitesmoke;
 
 }
 #choose{
    margin-top: 5px;
  padding-left: 60px;
 }
 .carouselslide {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
}

.navbar {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  z-index: 9;
  background-color: transparent;
  padding-top: 100px;
}

</style>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
</head>

<body >
    <div id="bg" class="col-lg-12 col-md-12 col-sm-12">
        
    <nav class="navbar ">
        <p id="p1">  “DISCOVER YOUR FAVORITE MOVIE”</p><br>
      <div class="d-grid gap-2 d-md-flex " id="choose">
        <p id="p2"></p>
        <form action="#mov"><button type="button" class="btn btn-outline-warning"  id="btn5">ACTION</button></form> 
          <form action="#mov"><button type="button" class="btn btn-outline-warning" id="btn6">ADVENTURE</button></form> 
            <form action="#mov"><button type="button" class="btn btn-outline-warning" id="btn7">ANIMATION</button></form> 
            <form action="#mov"><button type="button" class="btn btn-outline-warning"  id="btn8">COMEDY</button></form> 
          <form action="#mov"><button type="button" class="btn btn-outline-warning" id="btn9">DRAMA</button></form> 
            <input class="form-control me-2" type="search" id="searchtext" placeholder="Search MOVIE,SERIES OR EPSIODE" aria-label="Search">
            <form action="#mov">  <button class="btn btn-outline-warning" id="search" type="submit">Search</button></form>   
        </div>
        </nav>
      <div id="carouselExampleAutoplaying" class="carouselslide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="img7.jpg" class="d-block w-100" height="650" width="600">
          </div>
          <div class="carousel-item">
            <img src="im1.jpg" class="d-block w-100" height="650" width="600">
          </div>
          <div class="carousel-item">
            <img src="im2.jpg" class="d-block w-100" height="650" width="600">
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
      <section id="mov">
        <div class="container ">
       <div class="row " id="contaner1" >
       </div>
    </div>
</section>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>

    <script>
        let btn = document.getElementById('getDataButton')
        let search=document.getElementById('search')
       search.addEventListener('click', btn2=>{

        let search_text=document.getElementById('searchtext').value
        console.log(search_text)
        let api="https://api.themoviedb.org/3/search/movie?api_key=e3059150ac2b034d914db84c8336eb5f&query=" + search_text
       
          fetchdata(api)})

      function  fetchdata(url)
          {
           
            fetch(url)
                .then((response) => response.json())
                .then((data) => {                   
               moviearray=data.results
               console.log(data.results.title)
               getdata(moviearray)
               console.log(data) 
                })

                .catch((error) => {
                    console.log('Error:', error);})
                }
   
               function getdata(){
               let container1 = document.getElementById('contaner1')
        container1.innerHTML=" "
                  for(let i=0; i< moviearray.length; i++)
                  { let card = document.createElement('div')
                        card.style = 'style="width: 18rem;';
                        card.setAttribute('class', 'col-lg-2 col-md-2 col-sm-2 m-2 card')
                        card.setAttribute('id', 'c1')
                       let img = document.createElement('img')
                        img.classList.add('card-img-top')
                        let title = document.createElement('h3') 
                        let year = document.createElement('h5')
                        year.setAttribute('class', 'card-title')
                        year.textContent ='Release year-'+moviearray[i].release_date
                        let title1 = document.createElement('h4')
                        title.setAttribute('class', 'card-title')
                        title.textContent = 'Title-'+moviearray[i].title
                        title1.setAttribute('class', 'card-title')
                       title1.textContent ='Popularity-'+moviearray[i].popularity
                        img.src = "https://image.tmdb.org/t/p/w500"+moviearray[i].poster_path
                        card.appendChild(img)
                        container1.append(card)
                        card.appendChild(title)
                        card.appendChild(title1)
                      card.appendChild(year)}
                }
               
     
                let searchtext1=document.getElementById('searchtext')
                let btn9 = document.getElementById('btn5')
                btn9.addEventListener('click',gettype=>{
                
let searchtext1=document.getElementById('searchtext').value
 let url2='https://api.themoviedb.org/3/discover/movie?api_key=e3059150ac2b034d914db84c8336eb5f&with_genres=28'//action
fetchdata(url2)})
let btn_1 = document.getElementById('btn6')
                btn_1.addEventListener('click',gettype2=>{ 
                  let searchtext2=document.getElementById('searchtext').value              
                  let url3='https://api.themoviedb.org/3/discover/movie?api_key=e3059150ac2b034d914db84c8336eb5f&with_genres=12'//adventure
                   fetchdata(url3)})
               
                
                let btn0 = document.getElementById('btn7')
                btn0.addEventListener('click',gettype1=>{      
                  let searchtext3=document.getElementById('searchtext').value         
                  let url4='https://api.themoviedb.org/3/discover/movie?api_key=e3059150ac2b034d914db84c8336eb5f&with_genres=16'//animation
                   fetchdata(url4)
              })
              let btn10 = document.getElementById('btn8')
                btn10.addEventListener('click',gettype4=>{      
                  let searchtext3=document.getElementById('searchtext').value         
                  let url5='https://api.themoviedb.org/3/discover/movie?api_key=e3059150ac2b034d914db84c8336eb5f&with_genres=35'//comedy
                   fetchdata(url5)
              })
              let btn11 = document.getElementById('btn9')
                btn11.addEventListener('click',gettype5=>{      
                  let searchtext3=document.getElementById('searchtext').value         
                  let url6='https://api.themoviedb.org/3/discover/movie?api_key=e3059150ac2b034d914db84c8336eb5f&with_genres=18'//Drama
                   fetchdata(url6)
              })
    </script>


</body>




</html>